---
import { renderMermaid, THEMES } from 'beautiful-mermaid';

interface Props {
  chart: string;
  theme?: keyof typeof THEMES;
}

const { chart, theme = 'dracula' } = Astro.props;

const svg = await renderMermaid(chart, THEMES[theme]);
---

<div class="mermaid-diagram" set:html={svg} />

<style>
  .mermaid-diagram {
    display: flex;
    justify-content: center;
    margin: 1.5rem 0;
  }
  .mermaid-diagram :global(svg) {
    max-width: 100%;
    height: auto;
  }
</style>
